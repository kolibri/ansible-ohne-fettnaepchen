import {
  CodeSurferLayout,
  CodeSurferColumnLayout,
  Code,
  Step,
} from "code-surfer"

import Pitfall from '../layouts/Pitfall'
import Tip from '../layouts/Tip'
import { Notes } from 'mdx-deck'
import { Split } from 'mdx-deck/layouts'
import "prismjs/components/prism-ruby"
import "prismjs/components/prism-ini"
import "prismjs/components/prism-yaml"


# Ansible without dropping a brick

---

# Who is this guy

 Lukas Sadzik <lukas.sadzik@sensiolabs.de>  
Software Developer & Trainer @ SensioLabsDE  
Automation Fan  
@ko_libri  

<Notes>
who uses vagrant  

Who already used ansible  

who has to handle more than 2/10/20/100  machines?  

Code examples are for demonstration only!
</Notes> 

---

# The Problem.

## What we want

---

- We need more/less webservers/containers/ec2instances/etc, (scaling)
- We have to setup ssl/upgrade php/remove ssh access for the po/etc. on some of/all our servers (maintenance)
- We want to know, what is installed/configured on our machines (documentation)
- We want to approve every change the trainee makes on our machines (reviewability)
- We need to discuss the setup or our infrastructure (teamwork and knowledge sharing)
- We need development vm's for our developers (singe point of truth)
- And we want it, when we need it (automation)

---

# Quick tool overview


- [Chef](https://www.chef.io/)
- [Puppet](https://puppet.com/)
- [SaltStack](https://www.saltstack.com/)
- [Ansible](https://www.ansible.com) (this is, what this talk is about)

---

# About Ansible

- Open source (GPL) and available on [github](https://github.com/ansible/ansible)
- Maintained and owned by Redhat
- written in python
- configured with YAML files (sorry [Marco](https://twitter.com/Ocramius) ;)

---

# How to install ansible

- Via your favourite/available package manager

`(pacman -S)/(apt-get/brew/yum/pip install) ansible`

--- 

<Pitfall>

There are a lot of installation methods mentioned on the installation guide.

Just take the most easiest for you.

Do not install ansible via Git, unless you know, what you are doing

</Pitfall>

---

# How does ansible work

---

# The usual setup

- One control machine
- Some managed machines

---

# The control machine

The only machine we interact with directly is the control machine.
It has ansible installed and our self written scripts checked out.

---

# The managed machines

We do not log in onto this machines manualy (in a perfect world, we would not have access to this machines)
The only need python (=> 2.7) or Python 3 (>= 3.5) installed
And, our control machine has to be able to connect to the managed machines.
